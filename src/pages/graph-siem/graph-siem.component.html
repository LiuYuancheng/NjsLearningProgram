<div class="container">

  <!-- <h4> {{title}} </h4> -->

  <mat-tab-group [selectedIndex]="selected.value" (selectedIndexChange)="selected.setValue($event)">
    
    <mat-tab label="Subgraph Page">
      <!-- Show the subgraph and group in table -->
        
      <div fxLayout="row" fxLayoutGap="10px" class="parent">
      
        <div fxFlex="75%" class="left">
          <app-cytoscape #cygraph (parentFun)="parentFun($event)"></app-cytoscape>
        </div>
      
        <div fxFlex="25%" class="right">
          <select (change)="selectChangeHandler($event)">
            <option value="snort">Snort Subgraphs</option>
            <option value="windows">Windows Subgraphs</option>
            <option value="fortinet">Fortinet Subgraphs</option>
            <option value="linked">Lineked Subgraphs</option>
          </select>
          <mat-progress-bar mode="{{loadProMode}}" value="100"></mat-progress-bar>
      
          <!-- <p><span>You selected: </span><b>{{selectedgraph}}</b></p> -->
      
          <jqxGrid #nodeGrid (onRowselect)="selectRow($event)" [source]="subgrapSrc" [width]="'100%'" [height]="'300px'"
            [theme]="'metrodark'" [pageable]="true" [altrows]="true" [filterable]="true" [sortable]="true"
            [columns]="subgrapColumns" [rowdetails]="true" [initrowdetails]="initrowdetails" [rowdetailstemplate]="rowdetailstemplate"
            >	
          </jqxGrid>
      
          <mat-tab-group>
            <mat-tab label="Subgraph Nodes"> 
              <jqxGrid [source]="nodesSrc" [width]="'100%'" [theme]="'metrodark'" [height]="'600px'" [pageable]="true"
              [altrows]="true" [filterable]="true" [sortable]="true" [columns]="nodesLColums"  #grid>
            </jqxGrid>
            </mat-tab>
            <mat-tab label="Subgraph Edges">
              <jqxGrid [source]="edgesSrc" [width]="'100%'" [theme]="'metrodark'" [height]="'600px'" [pageable]="true"
                [altrows]="true" [filterable]="true" [sortable]="true" [columns]="edgesWColumns" #grid>
              </jqxGrid>
            </mat-tab>

          </mat-tab-group>
        
        </div>
      </div>
    </mat-tab>

    <mat-tab label="Node Detail Information ">
      <!-- <hr>
  <hello-world></hello-world>
  <hr> -->
      <table style="width:100%">
        <tbody>
          <tr>
            <div fxLayout="row" fxLayoutGap="10px" class="parent">
              <div fxFlex="75%" class="left">
                <app-nodedetail #nodegraph></app-nodedetail>
              </div>
      
              <div fxFlex="25%" class="right">
                <hr>
                <!-- <h4> Node [{{selectednodeID}}] Parent Subgraphs Table</h4> -->
                <h4> Subgraphs Table</h4>
                <hr>
                <jqxGrid #subGrid [source]="nodePrtSrc" [width]="'100%'" [theme]="'metrodark'" [height]="'80%'"
                  [pageable]="true" [altrows]="true" [filterable]="true" [sortable]="true" [columns]="subgraphsWColumns">
                </jqxGrid>
      
              </div>
            </div>
          </tr>
          
          <hr>
          
          <tr>
            <div fxLayout="row" fxLayoutGap="10px" class="parent">
              <div fxFlex="25%" class="left">
                Nodes Connected to Node [{{selectednodeID}}]:<br><br>
                <jqxGrid [source]="nodeRelSrc" [width]="'100%'" [theme]="'metrodark'" [height]="'300px'" [pageable]="true" [altrows]="true"
                  [filterable]="true" [sortable]="true" [columns]="nodesWColumns" #grid>
                </jqxGrid>
              </div>
      
              <div fxFlex="75%" class="right">
                Edges From/To Node [{{selectednodeID}}]: <br><br>
                <jqxGrid [source]="edgeRelSrc" [width]="'100%'" [theme]="'metrodark'" [height]="'300px'" [pageable]="true" [altrows]="true"
                  [filterable]="true" [sortable]="true" [columns]="edgesWColumns" #grid>
                </jqxGrid>
              </div>
            </div>
          </tr>
        </tbody>
      </table>
    </mat-tab>

    <mat-tab label="Snort Data List"> Snort List Idx = 1
      <hr>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>source</th>
            <th>target</th>
            <th>gini_t_port</th>
            <th>signature</th>
            <th>unique_t_port_count</th>
            <th>gini_s_port</th>
            <th>signature_id</th>
            <th>span</th>
            <th>unique_s_port_count</th>
            <th>dispersion</th>
            <th>final_score</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let networkdata of networkdatas">
            <td>{{ networkdata.source }}</td>
            <td>{{ networkdata.target }}</td>
            <td>{{ networkdata.gini_t_port }}</td>
            <td>{{ networkdata.signature }}</td>
            <td>{{ networkdata.unique_s_port_count }}</td>
            <td>{{ networkdata.gini_s_port }}</td>
            <td>{{ networkdata.signature_id }}</td>
            <td>{{ networkdata.span }}</td>
            <td>{{ networkdata.unique_s_port_count }}</td>
            <td>{{ networkdata.dispersion }}</td>
            <td>{{ networkdata.final_score }}</td>
          </tr>
        </tbody>
      </table>
    </mat-tab>

    <mat-tab label="Windows Data List"> Windows List Idx = 1
      <hr>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>source</th>
            <th>target</th>
            <th>unique_t_port_count</th>
            <th>dispersion</th>
            <th>gini_t_port</th>
            <th>final_score</th>
            <th>signature</th>
            <th>unique_s_port_count</th>
            <th>span</th>
            <th>signature_id</th>
            <th>gini_s_port</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let networkdata of networkdataw">
            <td>{{ networkdata.source }}</td>
            <td>{{ networkdata.target }}</td>
            <td>{{ networkdata.unique_t_port_count }}</td>
            <td>{{ networkdata.dispersion }}</td>
            <td>{{ networkdata.gini_t_port }}</td>
            <td>{{ networkdata.final_score }}</td>
            <td>{{ networkdata.signature }}</td>
            <td>{{ networkdata.unique_s_port_count }}</td>
            <td>{{ networkdata.span }}</td>
            <td>{{ networkdata.signature_id }}</td>
            <td>{{ networkdata.gini_s_port }}</td>
          </tr>
        </tbody>
      </table>
    </mat-tab>

    <mat-tab label="Fortinet Data List"> Fortinet List Idx = 0
      <hr>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>source</th>
            <th>target</th>
            <th>gini_t_port</th>
            <th>signature</th>
            <th>unique_t_port_count</th>
            <th>gini_s_port</th>
            <th>signature_id</th>
            <th>span</th>
            <th>unique_s_port_count</th>
            <th>dispersion</th>
            <th>final_score</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let networkdata of networkdataf">
            <td>{{ networkdata.source }}</td>
            <td>{{ networkdata.target }}</td>
            <td>{{ networkdata.gini_t_port }}</td>
            <td>{{ networkdata.signature }}</td>
            <td>{{ networkdata.unique_s_port_count }}</td>
            <td>{{ networkdata.gini_s_port }}</td>
            <td>{{ networkdata.signature_id }}</td>
            <td>{{ networkdata.span }}</td>
            <td>{{ networkdata.unique_s_port_count }}</td>
            <td>{{ networkdata.dispersion }}</td>
            <td>{{ networkdata.final_score }}</td>
          </tr>
        </tbody>
      </table>

    </mat-tab>

  </mat-tab-group>

</div>